.switchboard{style: 'padding-bottom: 20px'}
  .row
    - current_user.user_integrations.each do |ui|
      - ui.integration.enabled_services.each do |s|
        .col-sm-6.col-md-6.col-lg-4.switchboard-column.grow
          .switchboard-item
            .status
              - if ui.send("#{s}_applying?")
                %span.label.label-warning Provisioning
            .form-group
              %input.js-switch.service-toggle{disabled: !ui.send(s).trigger?(:toggle), checked: !ui.send("#{s}_disabled?"), type: "checkbox", data: {url: toggle_user_integration_path(id: ui.id, service: s)}}
            .logo
              = image_tag "switchboard/#{s}.png"
            .controls
              %span.icon-info

    - (Integration::SERVICES - current_user.integrations.map(&:enabled_services).flatten).each do |service|
      .col-sm-6.col-md-6.col-lg-4.switchboard-column.grow
        .switchboard-item.coming-soon
          .form-group
            %input.js-switch{disabled: true, readonly: true, style: "display: none;", type: "checkbox"}
          .logo
            = image_tag "switchboard/#{service}.png"

    - %w(docu_sign box horizon_air).each do |service|
      .col-sm-6.col-md-6.col-lg-4.switchboard-column.grow
        .switchboard-item.coming-soon
          .form-group
            %input.js-switch{disabled: true, readonly: true, style: "display: none;", type: "checkbox"}
          .logo
            = image_tag "switchboard/#{service}.png"

#service-notification.modal.fade{"aria-hidden" => "false", :tabindex => "-1"}
  .modal-dialog
    .modal-content
      .modal-header
        %button.close{"aria-label" => "Close", "data-dismiss" => "modal", :type => "button"}
          %span{"aria-hidden" => "true"} Ã—
        .td-dialog
          %h1 Notification
      .modal-body
        = flash[:service]
      .modal-footer
        %button.btn.btn-success{"data-dismiss" => "modal", :type => "button"} Done

- unless flash[:service].blank?
  %script
    $('#service-notification').modal('show')
